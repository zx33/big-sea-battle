# 大海战网页版

一个仿照经典推理游戏——炸飞机的简化版推理游戏，纯网页实现版本。

## 游戏特点

- **多种游戏模式**：
  - 普通模式：双方轮流攻击，先击沉对方所有战舰者获胜
  - 竞速模式：比拼击沉对方所有战舰的速度
  - 预判模式：一次性选择所有攻击位置，击中次数多者获胜

- **灵活的海域大小**：支持6x6和8x8两种海域大小

- **联网对战**：创建或加入房间，与好友一起游戏

- **简洁美观的界面**：响应式设计，适配不同设备

## 安装与运行

### 前提条件

- Node.js (v12.0.0 或更高版本)
- npm (v6.0.0 或更高版本)
- 后端服务器已启动（默认地址：http://localhost:2333）

### 安装步骤

1. 克隆或下载本项目

2. 进入项目目录
   ```
   cd big-sea-battle/pure_web
   ```

3. 安装依赖
   ```
   npm install
   ```

4. 启动游戏（两种方式）

   **方式一：使用代理服务器（推荐）**
   ```
   npm run proxy
   ```
   这种方式会启动一个代理服务器，自动将API请求转发到后端服务器，解决跨域问题。

   **方式二：仅启动静态文件服务器**
   ```
   npm start
   ```
   这种方式只提供静态文件服务，需要确保后端服务器允许跨域请求。

5. 在浏览器中访问 `http://localhost:3000` 开始游戏

### 开发模式

使用以下命令启动开发模式，支持自动重启服务器：

```
npm run dev-proxy
```

## 游戏规则

### 普通模式

1. 双方各自在自己的海域部署战舰
2. 轮流攻击对方海域
3. 击中对方战舰会显示为红色，未击中显示为蓝色
4. 先击沉对方所有战舰者获胜

### 竞速模式

1. 规则与普通模式相同
2. 游戏会记录从开始到结束的时间
3. 先击沉对方所有战舰者获胜，并显示用时

### 预判模式

1. 双方各自在自己的海域部署战舰
2. 双方一次性选择所有攻击位置（6x6海域选择10个位置，8x8海域选择20个位置）
3. 系统计算双方击中对方战舰的次数
4. 击中次数多者获胜

## 技术栈

- 前端：HTML, CSS, JavaScript, jQuery
- 后端：Node.js, Express

## 后端API

本游戏使用原有的后端API，主要包括：

- `/new_game`：创建新游戏
- `/join_game`：加入游戏
- `/set_map`：设置玩家地图
- `/get_status`：获取游戏状态
- `/get_players`：获取玩家信息
- `/curr_op_cnt`：获取当前操作计数
- `/get_op`：获取指定操作计数的操作信息
- `/set_op`：设置玩家操作（攻击）
- `/get_winner`：获取游戏胜利者信息
- `/guess`：预判模式下的猜测

## 许可证

MIT